# Solis Hybrid Inverter - ESPHome

ESPHome –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥—ñ–±—Ä–∏–¥–Ω–∏–º —ñ–Ω–≤–µ—Ä—Ç–æ—Ä–æ–º Solis RHI-5K-48ES-5G —á–µ—Ä–µ–∑ Modbus RTU.

## –û–±–ª–∞–¥–Ω–∞–Ω–Ω—è

- ESP32-S3 DevKit
- MAX485 –º–æ–¥—É–ª—å (RS485)
- Solis RHI-5K-48ES-5G —ñ–Ω–≤–µ—Ä—Ç–æ—Ä

## –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

- TX: GPIO17
- RX: GPIO16
- Modbus: 9600 baud, –∞–¥—Ä–µ—Å–∞ 1

## –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESPHome

–ü—ñ—Å–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ ESP32, –≤–±—É–¥–æ–≤–∞–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
- `http://solis-hybrid-full.local/` (—è–∫—â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è mDNS)
- –∞–±–æ –∑–∞ IP –∞–¥—Ä–µ—Å–æ—é ESP32 —É –≤–∞—à—ñ–π –º–µ—Ä–µ–∂—ñ

**–õ–æ–≥—ñ–Ω:** admin
**–ü–∞—Ä–æ–ª—å:** admin

‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ:** –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å —É —Ñ–∞–π–ª—ñ `solis.yaml` –≤ —Å–µ–∫—Ü—ñ—ó `web_server` –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º!

### –ö–∞—Å—Ç–æ–º–Ω–∏–π –¥–∞—à–±–æ—Ä–¥

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —î —Ñ–∞–π–ª `dashboard.html` - –∫—Ä–∞—Å–∏–≤–∏–π –≤–µ–±-–¥–∞—à–±–æ—Ä–¥ –∑ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—î—é –≤—Å—ñ—Ö —Å–µ–Ω—Å–æ—Ä—ñ–≤:

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- üìä –í—ñ–∑—É–∞–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö —Å–µ–Ω—Å–æ—Ä—ñ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö
- üîã –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä –∑–∞—Ä—è–¥—É –±–∞—Ç–∞—Ä–µ—ó –∑ –∫–æ–ª—å–æ—Ä–æ–≤–æ—é —ñ–Ω–¥–∏–∫–∞—Ü—ñ—î—é
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω (–ø—Ä–∞—Ü—é—î –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö —ñ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö)
- üé® –°—É—á–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞–º–∏ —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:** –î–∞—à–±–æ—Ä–¥ –ø—Ä–∞—Ü—é—î –≤ **–î–ï–ú–û —Ä–µ–∂–∏–º—ñ** –∑ –ø—Ä–∏–∫–ª–∞–¥–æ–º –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è CORS –≤ ESPHome.

**–î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –†–ï–ê–õ–¨–ù–ò–• –¥–∞–Ω–∏—Ö** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESPHome:
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://192.168.0.66` (–∞–±–æ –≤–∞—à—É IP –∞–¥—Ä–µ—Å—É ESP32)
- –õ–æ–≥—ñ–Ω: `admin` / –ü–∞—Ä–æ–ª—å: `admin`

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è IP –∞–¥—Ä–µ—Å–∏ –≤ –¥–∞—à–±–æ—Ä–¥—ñ:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `dashboard.html` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä—è–¥–æ–∫ 472:
   ```javascript
   const ESP_HOST = '192.168.0.66'; // ‚Üê –ó–ú–Ü–ù–Ü–¢–¨ –ù–ê –í–ê–®–£ IP!
   ```
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —ñ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è WiFi

–ü–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ—é –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `solis.yaml`:
```yaml
wifi:
  ssid: "YOUR_WIFI_SSID"
  password: "YOUR_WIFI_PASSWORD"
```

–Ø–∫—â–æ ESP32 –Ω–µ –∑–º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ WiFi, –≤—ñ–Ω —Å—Ç–≤–æ—Ä–∏—Ç—å —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É:
- SSID: `Solis-Hybrid-Fallback`
- –ü–∞—Ä–æ–ª—å: `12345678`

## –§—É–Ω–∫—Ü—ñ—ó

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- PV –ø–∞–Ω–µ–ª—ñ (–Ω–∞–ø—Ä—É–≥–∞, —Å—Ç—Ä—É–º, –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å)
- –ë–∞—Ç–∞—Ä–µ—è (–Ω–∞–ø—Ä—É–≥–∞, —Å—Ç—Ä—É–º, SOC, SOH, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞)
- –ú–µ—Ä–µ–∂–∞ (–Ω–∞–ø—Ä—É–≥–∞, —Å—Ç—Ä—É–º, —á–∞—Å—Ç–æ—Ç–∞, –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å)
- Backup/–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- –õ—ñ—á–∏–ª—å–Ω–∏–∫–∏ –µ–Ω–µ—Ä–≥—ñ—ó
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —ñ–Ω–≤–µ—Ä—Ç–æ—Ä–∞
- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏

### –ö–µ—Ä—É–≤–∞–Ω–Ω—è
- SOC –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π
- –ì—Ä—ñ–¥-–ª—ñ–º—ñ—Ç –µ–∫—Å–ø–æ—Ä—Ç—É
- –õ—ñ–º—ñ—Ç —Å—Ç—Ä—É–º—É –∑–∞—Ä—è–¥—É –≤—ñ–¥ –º–µ—Ä–µ–∂—ñ
- ESS —Ä–µ–∂–∏–º–∏ (Self Use, Feed-in First, Backup, Manual)
- –î–æ–∑–≤—ñ–ª –∑–∞—Ä—è–¥—É –≤—ñ–¥ –º–µ—Ä–µ–∂—ñ

## –ü—Ä–æ—à–∏–≤–∫–∞

```bash
esphome run solis.yaml
```

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ESPHome Dashboard –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
